const xmlNFCeToJson = require("./xmlNFCeToJson");
const sincVendas = require("./index");
/*

let xmlString =
  '<?xml version="1.0" encoding="UTF-8"?><nfeProc versao="4.00" xmlns="http://www.portalfiscal.inf.br/nfe"><NFe xmlns="http://www.portalfiscal.inf.br/nfe"><infNFe versao="4.00" Id="NFe26200712858700000109650020000006171747629160"><ide><cUF>26</cUF><cNF>74762916</cNF><natOp>VENDA</natOp><mod>65</mod><serie>2</serie><nNF>617</nNF><dhEmi>2020-07-24T12:09:25-03:00</dhEmi><tpNF>1</tpNF><idDest>1</idDest><cMunFG>2605459</cMunFG><tpImp>4</tpImp><tpEmis>1</tpEmis><cDV>0</cDV><tpAmb>2</tpAmb><finNFe>1</finNFe><indFinal>1</indFinal><indPres>1</indPres><procEmi>0</procEmi><verProc>BLUE v1.7.7510.35240</verProc></ide><emit><CNPJ>12858700000109</CNPJ><xNome>J M ARAUJO DIAS PANIICADORA ME</xNome><xFant>PADARIA NORONHA</xFant><enderEmit><xLgr>RUA MAJOR COSTA</xLgr><nro>005</nro><xBairro>CENTRO</xBairro><cMun>2605459</cMun><xMun>FERNANDO DE NORONHA</xMun><UF>PE</UF><CEP>53990000</CEP><cPais>1058</cPais><xPais>BRASIL</xPais><fone>8136191208</fone></enderEmit><IE>014183277</IE><CRT>3</CRT></emit><det nItem="1"><prod><cProd>7891000251515</cProd><cEAN>SEM GTIN</cEAN><xProd>NOTA FISCAL EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL</xProd><NCM>21041011</NCM><CFOP>5102</CFOP><uCom>UN</uCom><qCom>1.0000</qCom><vUnCom>2.2900000000</vUnCom><vProd>2.29</vProd><cEANTrib>SEM GTIN</cEANTrib><uTrib>UN</uTrib><qTrib>1.0000</qTrib><vUnTrib>2.2900000000</vUnTrib><indTot>1</indTot></prod><imposto><ICMS><ICMS00><orig>0</orig><CST>00</CST><modBC>3</modBC><vBC>2.29</vBC><pICMS>18.0000</pICMS><vICMS>0.41</vICMS></ICMS00></ICMS><PIS><PISAliq><CST>01</CST><vBC>2.29</vBC><pPIS>1.6500</pPIS><vPIS>0.04</vPIS></PISAliq></PIS><COFINS><COFINSAliq><CST>01</CST><vBC>2.29</vBC><pCOFINS>7.6000</pCOFINS><vCOFINS>0.17</vCOFINS></COFINSAliq></COFINS></imposto></det><det nItem="2"><prod><cProd>7891000251515</cProd><cEAN>SEM GTIN</cEAN><xProd>CALDO MAGGI CARNE 114G</xProd><NCM>21041011</NCM><CFOP>5102</CFOP><uCom>UN</uCom><qCom>24.0000</qCom><vUnCom>0.9900000000</vUnCom><vProd>23.76</vProd><cEANTrib>SEM GTIN</cEANTrib><uTrib>UN</uTrib><qTrib>24.0000</qTrib><vUnTrib>0.9900000000</vUnTrib><indTot>1</indTot></prod><imposto><ICMS><ICMS00><orig>0</orig><CST>00</CST><modBC>3</modBC><vBC>23.76</vBC><pICMS>18.0000</pICMS><vICMS>4.28</vICMS></ICMS00></ICMS><PIS><PISAliq><CST>01</CST><vBC>23.76</vBC><pPIS>1.6500</pPIS><vPIS>0.39</vPIS></PISAliq></PIS><COFINS><COFINSAliq><CST>01</CST><vBC>23.76</vBC><pCOFINS>7.6000</pCOFINS><vCOFINS>1.81</vCOFINS></COFINSAliq></COFINS></imposto></det><total><ICMSTot><vBC>26.05</vBC><vICMS>4.69</vICMS><vICMSDeson>0.00</vICMSDeson><vFCP>0.00</vFCP><vBCST>0.00</vBCST><vST>0.00</vST><vFCPST>0.00</vFCPST><vFCPSTRet>0.00</vFCPSTRet><vProd>26.05</vProd><vFrete>0.00</vFrete><vSeg>0.00</vSeg><vDesc>0.00</vDesc><vII>0.00</vII><vIPI>0.00</vIPI><vIPIDevol>0.00</vIPIDevol><vPIS>0.43</vPIS><vCOFINS>1.98</vCOFINS><vOutro>0.00</vOutro><vNF>26.05</vNF></ICMSTot></total><transp><modFrete>9</modFrete></transp><pag><detPag><tPag>01</tPag><vPag>26.05</vPag></detPag></pag><infAdic><infCpl>Trib. aprox: R$3,50 Federal| R$ 4,69 Estadual Fonte IBPT;Operador(a): 010 - CAIXA. Documento Interno: 013717</infCpl></infAdic><infRespTec><CNPJ>26191804000109</CNPJ><xContato>Mario Correia de Queiroz</xContato><email>mario@sriautomacao.com.br</email><fone>81992327051</fone></infRespTec></infNFe><infNFeSupl><qrCode><![CDATA[http://nfcehomolog.sefaz.pe.gov.br/nfce-web/consultarNFCe?p=26200712858700000109650020000006171747629160|2|2|1|B803E16D97473DBB423CCFAF19F52E5F9BC3D90B]]></qrCode><urlChave>nfce.sefaz.pe.gov.br/nfce/consulta</urlChave></infNFeSupl><Signature xmlns="http://www.w3.org/2000/09/xmldsig#"><SignedInfo><CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/><SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/><Reference URI="#NFe26200712858700000109650020000006171747629160"><Transforms><Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/><Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/></Transforms><DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/><DigestValue>zVLA9caywH0MHw7wObAxRM90xzc=</DigestValue></Reference></SignedInfo><SignatureValue>NhPwZ1UW4lCQytv708kXDYlDJkEMtac+V6yDUQORiJGtl35DSm0p5VPNeOk4hNo4nHWxnBqzYbXhsYg15cmGHaT9rfGz8OSyxtcNovRmvk7m+GXG/cln58W2cBwLzyZzj35jO+Wezve29QaC+Y+uv0dztKqbI7yTruUOyXgOxQFA8fJS4f+HlAQ7OMkbN9gwv5QiRTmTigL/PjU6nAZ3aCZhzWdgJCff/vEmVOTA0IDfL/ZEfUOLR+7VSpZtkomJ/yJ3TH9+wf2JtZJ90khGYTyE3XVRhmtCgxH35eZFzQ9U3WrqeFI5L726h0a1cneFD0gCHbwtyTQcCFue53adPA==</SignatureValue><KeyInfo><X509Data><X509Certificate>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</X509Certificate></X509Data></KeyInfo></Signature></NFe><protNFe versao="4.00"><infProt><tpAmb>2</tpAmb><verAplic>SVRSnfce202005191703</verAplic><chNFe>26200712858700000109650020000006171747629160</chNFe><dhRecbto>2020-07-24T12:09:29-03:00</dhRecbto><nProt>326200000151860</nProt><digVal>zVLA9caywH0MHw7wObAxRM90xzc=</digVal><cStat>100</cStat><xMotivo>Autorizado o uso da NF-e</xMotivo></infProt></protNFe></nfeProc>';
let buff = new Buffer(xmlString);
let base64data = buff.toString("base64");

let buff2 = new Buffer(base64data, "base64");
let xml = buff2.toString("ascii");
console.log(xmlNFCeToJson(xml));
console.log(typeof xmlNFCeToJson(xml));
*/

sincVendas(
  { id: 0, cnpj: "12858700000109", caixa: "007", serial: "123123123" },
  "DB-SL-test"
);
